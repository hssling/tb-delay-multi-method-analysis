# Living Review Guide

This project is intended to be re-run regularly as new TB delay evidence and programme reports become available. Use the steps below to refresh estimates and outputs without adding large binaries to the repository.

## Quarterly refresh checklist
1. **Update sources**: place new TB delay study extracts and programme indicators in your local data folder (do not commit raw data). Include new India TB Report/NFHS/Census updates when released.
2. **Environment**: create or update the conda/pip env using `environment.yml` or `requirements.txt`.
3. **Rebuild analyses** (from repo root):
   - `python scripts/17_mcmc_bayesian_meta_analysis.py`
   - `python scripts/18_pca_delay_determinants.py`
   - `python scripts/19_dag_causal_delay_analysis.py`
   - `python scripts/20_integrated_delay_analysis.py` (composite scoring)
   - Or run the end-to-end driver: `python scripts/run_all.py` (or `scripts/run_all_v2.py` if you prefer the v2 flow).
4. **Regenerate manuscripts**: `python scripts/22_journal_submission_manuscript.py` or `python scripts/23_submission_package_preparation.py` to rebuild the DOCX and submission artefacts.
5. **Refresh figures**: rerun `scripts/06_visualizations.py` (and `08_advanced_visualizations.py` if needed) and replace figure files locally. Commit only the updated EPS/PNG figure outputs and manuscripts; avoid committing raw data or intermediate caches.
6. **Update metrics**: regenerate `supporting/ijmr_best_manuscript_metrics.json` to reflect new posteriors and PCA/DAG summaries.
7. **Version/tag**: commit changes, then tag the refresh (e.g., `v2025q1-living-review`). Push tags/releases after review.

## Automation starter (GitHub Actions)
If you want a scheduled living-review run, add a workflow under `.github/workflows/` that:
- checks out the repo,
- sets up Python,
- installs `requirements.txt`,
- runs `python scripts/run_all.py`,
- uploads updated manuscripts/figures/metrics as artifacts instead of committing them automatically.

Example trigger:
```yaml
on:
  schedule:
    - cron: "0 3 1 */3 *"  # quarterly
```
Add your preferred steps and secrets for authenticated artifact upload; keep raw data out of the repo.

## Attribution and integrity
- Keep citations verified; do not introduce autogenerated references.
- Preserve the existing numbering scheme (references begin in the Introduction).
- Commit only reproducible outputs (manuscripts, figures, metrics JSON), not raw data.
